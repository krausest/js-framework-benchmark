const M=[];let T=!1;const z=new Set;function V(e){z.add(e),T||(T=!0,queueMicrotask(()=>{for(const n of z)n.run();z.clear(),T=!1}))}function D(e){let n=e;const t=new Set;return[()=>{const l=M[M.length-1];return l&&(t.add(l),l.deps.add(t)),n},l=>{const c=typeof l=="function"?l(n):l;if(c!==n){n=c;for(const a of t)V(a)}}]}function B(e){const n=()=>{q(t),M.push(t),t.teardown=e(),M.pop()},t={run:n,deps:new Set};return n(),h==null||h.add(t),t}function q(e){var n;(n=e.teardown)==null||n.call(e);for(const t of e.deps)t.delete(e);e.deps.clear()}function I(e,n){n.appendChild(R(e))}function L(e,n){switch(typeof n){case"function":const l=document.createTextNode("");B(()=>{l.nodeValue=n()}),e.appendChild(l);break;case"string":e.appendChild(document.createTextNode(n));break;case"number":case"boolean":e.appendChild(document.createTextNode(`${n}`));break;default:if(Array.isArray(n))for(const c of n)L(e,c);else e.appendChild(n)}}const v=new Map;let h=null;function P(e,n,t){t!==void 0?e.setAttribute(n,t):e.removeAttribute(n)}function K(e,n,t){B(()=>P(e,n,t()))}function H(e,n,t){t!==void 0?e[n]=t:delete e[n]}function _(e,n,t){B(()=>H(e,n,t()))}const $=new WeakSet;function O(e){if($.has(e))return!0;for(const n of e.childNodes){if(n.nodeType===8){const t=N.get(n);if(t){const[l]=t;if(v.has(l))return!0}continue}if(v.has(n)||$.has(n)||O(n))return!0}return!1}function b(e,n,t,l,...c){const a=document.createElement(e);for(const i in n){let d=n[i];if(typeof d=="function"){_(a,i,d);continue}d!==void 0&&H(a,i,d)}for(const i in t){let d=t[i];if(typeof d=="function"){K(a,i,d);continue}d!==void 0&&P(a,i,d)}l&&Object.assign(a,l);for(const i of c)L(a,i);return a}function W(e,n,t){if($.add(e),n)for(const l of t)n.add(l);else v.set(e,t)}function S(e,n,t,l,...c){const a=h;h=new Set;const i=b(e,n,t,l,...c),d=v.get(i);return(!!h.size||d||O(i))&&W(i,d,h),h=a,i}function A(e,n,t,l,...c){const a=h;h=new Set;const i=b(e,n,t,l,...c);return W(i,v.get(i),h),h=a,i}function R(e,n){const t=h;h=new Set;const l=e(n),c=v.get(l);return(!!h.size||c||O(l))&&W(l,c,h),h=t,l}function E(e){let n,t;if(e.nodeType===8){const l=N.get(e);if(!l)return;N.delete(e),t=e,[e,n]=l}if($.has(e)&&v.has(e)){const l=v.get(e);for(const c of l)q(c);if(v.delete(e),n&&e.nodeType===11)for(;n.previousSibling!==t;)E(n.previousSibling),n=n.previousSibling;else for(const c of e.childNodes)E(c)}}function j(e){if(e.parentNode)e.parentNode.removeChild(e);else{const[,n]=N.get(e);if(!e.previousSibling&&!n.nextSibling){e.parentNode.textContent="";return}for(;n.previousSibling!==e;)n.previousSibling.remove();e.remove(),n.remove()}}const N=new Map;function G(e){let n=e.items(),t=document.createDocumentFragment();n.forEach(r=>t.appendChild(e.render(r)));const l=document.createComment("list-start"),c=document.createComment("list-end"),a=new Map,i=(r,m)=>{if(r=e.memo(r),m=e.memo(m),r.length!==m.length)return!1;for(let y=0;y<r.length;y++)if(r[y]!==m[y])return!1;return!0},d=(r,m,y)=>{if(e.memo&&!i(r,m)||!e.memo&&r!==m){E(y);const w=e.render(m);y.replaceWith(w)}};let x=!0;return B(()=>{let r=e.items();if(x){x=!1;return}const m=l.parentNode,y=Array.from(m.childNodes),w=y.indexOf(l)+1;let f=0,k=r.length,g=n.length;for(;f<k&&f<g&&e.key(r[f])===e.key(n[f]);)d(n[f],r[f],y[f+w]),f++;if(f>=k){for(;f<g;){const o=y[w+--g];E(o),j(o)}n=r;return}for(g--,k--;k>f&&g>=f&&e.key(r[k])===e.key(n[g]);){const o=g--;d(n[o],r[k--],y[o+w])}for(let o=f;o<=g;o++)(!r[o]||e.key(n[o])!==e.key(r[o]))&&a.set(e.key(n[o]),{element:y[o+w],item:n[o]});for(;f<=k;){const o=r[f],C=e.key(o),s=n[f],u=m.childNodes[f+w],p=a.get(C);if(s===void 0)c.before(e.render(o));else if(p){if(u!==p.element){const U=p.element.nextSibling;m.insertBefore(p.element,u),m.insertBefore(u,U)}d(p.item,o,p.element),a.delete(C)}else e.key(s)===C?d(s,o,u):m.insertBefore(e.render(o),u);f++}for(const o of a.values())E(o.element),j(o.element);a.clear(),n=r}),t.prepend(l),t.append(c),N.set(l,[t,c]),t}function J(){return window.location.hash.slice(1)}D(J());function Q(e){let n=1;const[t,l]=D([]),[c,a]=D(),i=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],d=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],x=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],r=()=>l(s=>[...s,...C(1e3)]),m=()=>l([]),y=()=>l(s=>s.map(u=>u.id%10===0?{...u,label:u.label+" !!!"}:u)),w=s=>l(u=>{const p=u.slice();return p.splice(p.indexOf(s),1),p}),f=()=>{l(C(1e3))},k=()=>{l(C(1e4))},g=()=>l(s=>{if(s.length>998){const u=s.slice(),p=u[1];return u[1]=u[998],u[998]=p,u}return s});function o(s){return Math.round(Math.random()*1e3)%s}function C(s=1e3){const u=new Array(s);for(let p=0;p<s;p++)u[p]={id:n++,label:`${i[o(i.length)]} ${d[o(d.length)]} ${x[o(x.length)]}`};return u}return A("div",{id:"main"},{class:"container"},null,b("div",null,{class:"jumbotron"},null,b("div",null,{class:"row"},null,b("div",null,{class:"col-md-6"},null,b("h1",null,null,null,"Sparki")),b("div",null,{class:"col-md-6"},null,b("div",null,{class:"row"},null,b("div",null,{class:"col-sm-6 smallpad"},null,S("button",{type:"button",id:"run"},{class:"btn btn-primary btn-block"},{onclick:f},"Create 1,000 rows")),b("div",null,{class:"col-sm-6 smallpad"},null,S("button",{type:"button",id:"runlots"},{class:"btn btn-primary btn-block"},{onclick:k},"Create 10,000 rows")),b("div",null,{class:"col-sm-6 smallpad"},null,S("button",{type:"button",id:"add"},{class:"btn btn-primary btn-block"},{onclick:r},"Append 1,000 rows")),b("div",null,{class:"col-sm-6 smallpad"},null,S("button",{type:"button",id:"update"},{class:"btn btn-primary btn-block"},{onclick:y},"Update every 10th row")),b("div",null,{class:"col-sm-6 smallpad"},null,S("button",{type:"button",id:"clear"},{class:"btn btn-primary btn-block"},{onclick:m},"Clear")),b("div",null,{class:"col-sm-6 smallpad"},null,S("button",{type:"button",id:"swaprows"},{class:"btn btn-primary btn-block"},{onclick:g},"Swap Rows")))))),A("table",null,{class:"table table-hover table-striped test-data"},null,A("tbody",null,null,null,R(G,{items:()=>t(),key:s=>s.id,render:s=>A("tr",null,{class:()=>c()===s.id?"danger":void 0},null,b("td",null,{class:"col-md-1"},null,`${s.id}`),b("td",null,{class:"col-md-4"},null,S("a",null,null,{onclick:()=>a(s.id)},`${s.label}`)),b("td",null,{class:"col-md-1"},null,S("a",null,null,{onclick:()=>w(s)},b("span",null,{class:"glyphicon glyphicon-remove","aria-hidden":"true"},null))),b("td",null,{class:"col-md-6"},null))}))),b("span",null,{class:"preloadicon glyphicon glyphicon-remove","aria-hidden":"true"},null))}I(Q,document.body);
