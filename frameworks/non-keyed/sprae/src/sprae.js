var We=Object.defineProperty;var Pe=(e,t)=>{for(var r in t)We(e,r,{get:t[r],enumerable:!0})};var y=Symbol.dispose||(Symbol.dispose=Symbol("dispose")),p=Symbol("state"),z=Symbol("on"),K=Symbol("off"),B=Symbol("init"),G=":",x,I,J,R=e=>e(),M=R,F={},D={},Q=null,U=null,Ke=e=>{if(!e?.tagName)return"";let t=e.tagName.toLowerCase();return e.id?t+="#"+e.id:e.className&&(t+="."+e.className.split(" ")[0]),`<${t}>`},Z=(e,t)=>{let r=`\u2234 ${e}`;U&&(r+=`
  in ${Ke(U)}`),Q&&t&&(r+=`
  ${Q}="${t}"`),console.error(r)},Ie=(e=document.body,t)=>{if(e[p])return Object.assign(e[p],t);t=H(t||{});let r=[],o=[];e[z]=()=>!o&&(o=r.map(s=>s())),e[K]=()=>(o?.map(s=>s()),o=null),e[y]||(e[y]=()=>(e[K](),e[K]=e[z]=e[y]=e[B]=e[p]=null));let n=e[B]=s=>{let i=s.attributes,a;if(i)for(let c=0;c<i.length;){let{name:l,value:f}=i[c];if(l.startsWith(G)){if(s.removeAttribute(l),Q=l,U=s,r.push(a=ce(s,l.slice(G.length),f,t)),o.push(a()),p in s)return}else c++}if(s.firstChild!==void 0){let c=s.firstChild,l;for(;c;)l=c.nextSibling,c.nodeType==1&&n(c),c=l}else for(let c of s.childNodes)c.nodeType==1&&n(c)};return n(e),e[p]===void 0&&(e[p]=t),t},ce,le,m=e=>{let t=ae[e=e.trim()];if(t)return t;try{t=le(e||"undefined")}catch(r){Z(r,e)}return ae[e]=function(r,o,n){try{let s=t?.call(this,r);return o?s?.then?(s.then(i=>n=o(i)).catch(i=>Z(i,e)),()=>typeof n=="function"&&n()):o(s):s}catch(s){Z(s,e)}}},ae={},Y=e=>(e.compile&&(le=e.compile),e.prefix&&(G=e.prefix),e.signal&&(x=e.signal),e.effect&&(I=e.effect),e.computed&&(J=e.computed),e.batch&&(R=e.batch),e.untracked&&(M=e.untracked),e.dir&&(ce=e.dir)),_=(e,t)=>{for(;t.length;){let[r,...o]=t.pop().split("-"),n=D[r],s;if(n&&(s=n(e,...o))!==e){for(let i in e)s[i]??(s[i]=e[i]);e=s}}return e},C=e=>{if(!e.nodeType)return e;let t=e.content.cloneNode(!0),r=[...e.attributes],o=document.createTextNode(""),n=(t.append(o),[...t.childNodes]);return{childNodes:n,content:t,remove:()=>t.append(...n),replaceWith(s){s!==o&&(o.before(s),t.append(...n))},attributes:r,removeAttribute(s){r.splice(r.findIndex(i=>i.name===s),1)}}},ue=e=>e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(t,r)=>(r?"-":"")+t.toLowerCase()),S=(e,t,r)=>r==null||r===!1?e.removeAttribute(t):e.setAttribute(t,r===!0?"":r),v=(e,t=[])=>e?typeof e=="string"?e:(Array.isArray(e)?e.map(v):Object.entries(e).reduce((r,[o,n])=>n?[...r,o]:r,[])).join(" "):"",$=(e,t)=>{let r=0,o,n=typeof t=="function"?t:t?i=>setTimeout(i,t):queueMicrotask,s=i=>{o=i,r++||(e(o),n((a=r>1)=>(r=0,a&&s(o))))};return s},de=(e,t,r)=>{let o=typeof t=="function"?t:t?n=>setTimeout(n,t):queueMicrotask;return r?(n=>s=>!n&&(e(s),n=1,o(()=>n=0)))():((n=0)=>(s,i=++n)=>o(()=>i==n&&e(s)))()},u=Ie;var w=Symbol("signals"),N=Symbol("change"),te=Symbol("set"),ee=!0,E=(e,t)=>{if(!e||e[Symbol.toStringTag]||e[w])return e;if(e.constructor!==Object)return Array.isArray(e)?Re(e):e;let r=Object.keys(e).length,o={},n=new Proxy(Object.assign(o,{[N]:x(r),[w]:o}),{get:(i,a)=>a in o?o[a]?o[a].valueOf():o[a]:t?t[a]:typeof globalThis[a]=="function"&&!globalThis[a].prototype?globalThis[a].bind(globalThis):globalThis[a],set:(i,a,c)=>a in o?(pe(o,a,c),1):(ee=!1,t&&a in t?t[a]=c:(X(o,a,c),o[N].value=++r),ee=!0,1),deleteProperty:(i,a)=>(a in o&&(a[0]!="_"&&o[a]?.[Symbol.dispose]?.(),delete o[a],o[N].value=--r),1),ownKeys:()=>(o[N].value,Reflect.ownKeys(o)),has:(i,a)=>a in o?!0:t?a in t:ee}),s=Object.getOwnPropertyDescriptors(e);for(let i in e)s[i]?.get?(o[i]=J(s[i].get.bind(n)))[te]=s[i].set?.bind(n):X(o,i,e[i]);return n},Re=(e,t=globalThis)=>{let r=Array(e.length).fill(null),o=!1,n=a=>function(){return o=!0,a.apply(this,arguments)},s=x(e.length),i=new Proxy(Object.assign(r,{[N]:s,[w]:r,push:n(r.push),pop:n(r.pop),shift:n(r.shift),unshift:n(r.unshift),splice:n(r.splice)}),{get(a,c){return c==="length"?o?(o=!1,r.length):s.value:typeof c=="symbol"||isNaN(c)?r[c]?.valueOf()??t[c]:(r[c]??(r[c]=x(E(e[c])))).valueOf()},set(a,c,l){if(c==="length"){for(let f=l;f<r.length;f++)delete i[f];s.value=r.length=l}else c>=r.length?(X(r,c,l),i.length=+c+1):r[c]?pe(r,c,l):X(r,c,l);return 1},deleteProperty:(a,c)=>(r[c]?.[Symbol.dispose]?.(),delete r[c],1)});return i},X=(e,t,r)=>e[t]=t[0]=="_"||r?.peek?r:x(E(r)),pe=(e,t,r,o,n)=>t[0]==="_"?e[t]=r:r!==(n=(o=e[t]).peek())&&(o[te]?o[te](r):Array.isArray(r)&&Array.isArray(n)?N in n?M(()=>R(()=>{for(let s=0;s<r.length;s++)n[s]=r[s];n.length=r.length})):o.value=r:o.value=E(r)),H=E;var re={};Pe(re,{batch:()=>He,computed:()=>Fe,effect:()=>he,signal:()=>me,untracked:()=>Ve});var j,fe=0,W,me=(e,t,r=new Set,o=()=>t.value)=>t={get value(){return j?.deps.add(r.add(j)),e},set value(n){if(n!==e){e=n;for(let s of r)W?W.add(s):s()}},peek(){return e},toJSON:o,toString:o,valueOf:o},he=(e,t,r,o)=>(r=n=>{let s=t;if(t=null,s?.call?.(),n=j,j=r,fe++>10)throw"Cycle detected";try{t=e()}finally{j=n,fe--}},r.fn=e,o=r.deps=new Set,r(),n=>{t?.call?.();for(n of o)n.delete(r);o.clear()}),Fe=(e,t=me(),r,o,n=()=>r.value)=>r={get value(){return o||(o=he(()=>t.value=e())),t.value},peek:t.peek,toJSON:n,toString:n,valueOf:n},He=(e,t=!W,r)=>{W??(W=new Set);try{e()}finally{if(t){[W,r]=[null,W];for(let o of r)o()}}},Ve=(e,t,r)=>(t=j,j=null,r=e(),j=t,r);var ye=(e,t)=>{var s;let r,o,n;return e._holder?u(o=e,t):(e[s=p]??(e[s]=null),o=e.content?C(e):e,e.replaceWith(r=document.createTextNode("")),o._holder=r._holder=r,r._clauses=[o._clause=[o,!1]],r.update=$(()=>{let i=r._clauses.find(([,a])=>a);i!=n&&(n?.[0].remove(),n?.[0][K]?.(),(n=i)&&(r.before(n[0].content||n[0]),n[0][p]?n[0][z]?.():(delete n[0][p],u(n[0],t))))})),i=>{o._clause[1]=i,o._holder.update()}};var ge=e=>{let t,r=e;for(t=e.content?C(e):e;r&&!(t._holder=r._holder);)r=r.previousSibling;return e.remove(),e[p]=null,t._holder._clauses.push(t._clause=[t,!0]),t._holder.update};var be=e=>(e.content&&e.replaceWith(e=C(e).childNodes[0]),t=>(t=typeof t=="function"?t(e.textContent):t,e.textContent=t??""));var xe=(e,t,r,o)=>{let n=new Set,s;return o.includes(".")&&(e=_({target:e},o.split(".").slice(1)).target??e),i=>{s=new Set,i&&v(typeof i=="function"?i(e.className):i).split(" ").map(a=>a&&s.add(a));for(let a of n)s.has(a)?s.delete(a):e.classList.remove(a);for(let a of n=s)e.classList.add(a)}};var _e=(e,t,r,o)=>{let n;return o.includes(".")&&(e=_({target:e},o.split(".").slice(1)).target??e),s=>{if(n||(n=e.getAttribute("style")),s=typeof s=="function"?s(e.style):s,typeof s=="string")S(e,"style",n+"; "+s);else{n&&S(e,"style",n);for(let i in s)i[0]=="-"?e.style.setProperty(i,s[i]):i[0]>"A"&&(e.style[i]=s[i])}}};var Se=()=>e=>typeof e=="function"&&e();var oe=(e,t=m(`${e}=__`))=>(r,o)=>{r.__=o,t(r),delete r.__},we=(e,t,r)=>{try{let o=oe(r),n=e.type==="checkbox"?()=>o(t,e.checked):e.type==="select-multiple"?()=>o(t,[...e.selectedOptions].map(s=>s.value)):()=>o(t,e.selectedIndex<0?null:isNaN(e.valueAsNumber)?e.value:e.valueAsNumber);e.oninput=e.onchange=n,e.type?.startsWith("select")&&(new MutationObserver(n).observe(e,{childList:!0,subtree:!0,attributes:!0}),u(e,t)),m(r)(t)??n()}catch{}return e.type==="text"||e.type===""||e.tagName==="TEXTAREA"?(o,n,s)=>(n=e.selectionStart,s=e.selectionEnd,e.setAttribute("value",e.value=o??""),n&&e.setSelectionRange(n,s)):e.type==="checkbox"?o=>(e.checked=o,S(e,"checked",o)):e.type==="radio"?o=>e.value===o&&(e.checked=o,S(e,"checked",o)):e.type==="select-one"?o=>{for(let n of e.options)n.value==o?n.setAttribute("selected",""):n.removeAttribute("selected");e.value=o}:e.type==="select-multiple"?o=>{for(let n of e.options)n.removeAttribute("selected");for(let n of o)e.querySelector(`[value="${n}"]`).setAttribute("selected","")}:o=>e.value=o};var Ae=(e,t,r)=>{let o=m(r)(t);if(typeof o=="function")return{[Symbol.dispose]:o(e)};oe(r)(t,e)};var Ne=(e,t)=>{let r=e[p]=E({},t),o=!1;return n=>{if(n=typeof n=="function"?n(r):n,n!==r)for(let s in n){let i=typeof n[s]=="function"?n[s].bind(r):n[s];s in r[w]?r[s]=i:r[w][s]=s[0]=="_"||i?.peek?i:x(E(i))}return!o&&(o=!0,delete e[p],M(()=>u(e,r)))}};var Oe=(e,t,r)=>{let[o,n]=r.split(/\bin|of\b/),[s,i="$"]=o.trim().replace(/\(|\)/g,"").split(/\s*,\s*/),a=document.createTextNode(""),c,l,f,O=0,A=$(()=>{var T,h;let d=0,k=f,g=k.length;if(c&&!c[N]){for(let L of c[w]||[])L[Symbol.dispose]();c=null,O=0}if(g<O)c.length=g;else{if(!c)c=k;else for(;d<O;)c[d]=k[d++];let P=g-d>1?document.createDocumentFragment():null,ie=P?[]:null;for(;d<g;d++){c[d]=k[d];let q=d,b=e.content?C(e):e.cloneNode(!0),V=b.content||b;if(P)P.appendChild(V),ie.push([b,q]);else{a.before(V);let Me=Object.create(t,{[s]:{get:()=>c[q]},[i]:{value:l?l[q]:q}});u(b,Me)}let qe=((h=c[T=w]||(c[T]=[]))[d]||(h[d]={}))[Symbol.dispose];c[w][d][Symbol.dispose]=()=>{qe?.(),b[Symbol.dispose]?.(),b.remove()}}if(P){a.before(P);for(let[q,b]of ie){let V=Object.create(t,{[s]:{get:()=>c[b]},[i]:{value:l?l[b]:b}});u(q,V)}}}O=g});return e.replaceWith(a),e[p]=null,Object.assign(d=>(l=null,typeof d=="number"?f=Array.from({length:d},(k,g)=>g+1):d?.constructor===Object?(l=Object.keys(d),f=Object.values(d)):f=d||[],I(()=>{f[N]?.value,A()})),{eval:m(n)})};var Te=(e,t,r,o)=>n=>S(e,o,typeof n=="function"?n(e.getAttribute(o)):n);var Ce=e=>t=>{for(let r in t)S(e,ue(r),t[r])};var je=(e,t,r,o)=>{let[n,...s]=o.slice(2).split("."),i=m(r).bind(e),a=_(Object.assign(c=>i(t,l=>typeof l=="function"?l(c):l),{target:e}),s);return a.target.addEventListener(n,a,a),{[Symbol.dispose](){a.target.removeEventListener(n,a)}}};var ke=(e,t,r,o)=>{let n,s,i=o.split("..").map((a,c,{length:l})=>a.split(":").reduce((f,O)=>{let[A,...d]=O.slice(2).split("."),k=m(r).bind(e),g=(h,L)=>n=typeof h=="function"?h(L):h,T=_(Object.assign(h=>(c?g(n,h):k(t,L=>g(L,h)),s(),s=i[(c+1)%l]()),{target:e}),d);return h=>(h=f?.(),T.target.addEventListener(A,T,T),()=>(h?.(),T.target.removeEventListener(A,T)))},null));return s=i[0](),{[Symbol.dispose](){s?.()}}};var De=(e,t)=>{if(e.content){let r=document.createTextNode(""),o=document.createTextNode(""),n=document.createRange();return e.replaceWith(r,o),s=>{if(s=typeof s=="function"?s(""):s,n.setStartAfter(r),n.setEndBefore(o),n.deleteContents(),s!=null&&s!==""){let i=n.createContextualFragment(s);u(i,t),n.insertNode(i)}}}return r=>(r=typeof r=="function"?r(e.innerHTML):r,e.innerHTML=r??"",u(e,t),e[y])};var $e=(e,t,r)=>{let o=document.createComment(":portal"),n=null;return e.before(o),s=>{let i=e.getRootNode(),a=typeof s=="string"?i.querySelector?.(s)||document.querySelector(s):s instanceof Element?s:s?document.body:null;a!==n&&(a?a.appendChild(e):o.after(e),n=a)}};var Ee=e=>t=>e.hidden=!!t;Object.assign(F,{_:(e,t,r,o)=>(o.startsWith("on")?je:Te)(e,t,r,o),"":Ce,class:xe,text:be,html:De,style:_e,fx:Se,value:we,ref:Ae,scope:Ne,if:ye,else:ge,each:Oe,portal:$e,hidden:Ee});var ze=(e,t,r,o)=>{let[n,...s]=t.split("."),i=F[n]||F._;return()=>{let a=i(e,o,r,t);if(!a?.call)return a?.[y];let c=_(Object.assign($(()=>l.value++),{target:e}),s),l=x(0),f=0,O=a.eval??m(r).bind(e),A,d=()=>(typeof A=="function"&&A(),A=null);return o=e[p]??o,I(()=>(l.value==f?c():(f=l.value,A=O(o,a)),d))}},Be=e=>e?typeof e=="number"?e:(([,t,r]=e.match(/^(\d+)(ms|s|m)?$/)||[])=>(t=+t,r==="s"?t*1e3:r==="m"?t*6e4:t))():0,ne=e=>e==="idle"?requestIdleCallback:e==="raf"?requestAnimationFrame:!e||e==="tick"?queueMicrotask:t=>setTimeout(t,Be(e));Object.assign(D,{debounce:(e,t,r)=>de(e,ne(t==="immediate"?r:t),t==="immediate"||r==="immediate"),throttle:(e,t)=>$(e,ne(t)),delay:(e,t)=>((r=ne(t))=>o=>r(()=>e(o)))(),tick:e=>(console.warn("Deprecated"),t=>queueMicrotask(()=>e(t))),raf:e=>(console.warn("Deprecated"),t=>requestAnimationFrame(()=>e(t))),once:(e,t,r)=>(r=o=>!t&&(t=1,e(o)),r.once=!0,r),window:e=>(e.target=e.target.ownerDocument.defaultView,e),document:e=>(e.target=e.target.ownerDocument,e),root:e=>(e.target=e.target.ownerDocument.documentElement,e),body:e=>(e.target=e.target.ownerDocument.body,e),parent:e=>(e.target=e.target.parentNode,e),self:e=>t=>t.target===e.target&&e(t),away:e=>Object.assign(t=>!e.target.contains(t.target)&&t.target.isConnected&&e(t),{target:e.target.ownerDocument}),prevent:e=>t=>(t?.preventDefault(),e(t)),stop:(e,t)=>r=>(t?.[0]==="i"?r?.stopImmediatePropagation():r?.stopPropagation(),e(r)),immediate:e=>(console.warn("Deprecated"),t=>(t?.stopImmediatePropagation(),e(t))),passive:e=>(e.passive=!0,e),capture:e=>(e.capture=!0,e)});D.outside=D.away;var se={ctrl:e=>e.ctrlKey||e.key==="Control"||e.key==="Ctrl",shift:e=>e.shiftKey||e.key==="Shift",alt:e=>e.altKey||e.key==="Alt",meta:e=>e.metaKey||e.key==="Meta",cmd:e=>e.metaKey||e.key==="Command",arrow:e=>e.key.startsWith("Arrow"),enter:e=>e.key==="Enter",esc:e=>e.key.startsWith("Esc"),tab:e=>e.key==="Tab",space:e=>e.key==="\xA0"||e.key==="Space"||e.key===" ",delete:e=>e.key==="Delete"||e.key==="Backspace",digit:e=>/^\d$/.test(e.key),letter:e=>/^\p{L}$/gu.test(e.key),char:e=>/^\S$/.test(e.key)},Le=(e,t)=>se[e]?.(t)||t.key.toLowerCase()===e||t.keyCode==e;for(let e in se)D[e]=(t,r,o)=>n=>se[e](n)&&(!r||Le(r,n))&&(!o||Le(o,n))&&t(n);var Je=e=>{for(let t=0,r=0;r<e.length;r++)if(e[r]=="{")t++;else if(e[r]=="}")t--;else if(e[r]==";"&&!t)return!0;return!1};Y({compile:e=>(/^(if|let|const)\b/.test(e)||Je(e)||(e=`return ${e}`),/\bawait\s/.test(e)&&(e=`return (async()=>{${e}})()`),u.constructor(`with(arguments[0]){${e}}`)),dir:(e,t,r,o)=>t.includes("..")?()=>ke(e,o,r,t)[y]:t.split(":").reduce((n,s)=>{let i=ze(e,s,r,o);return n?(a,c)=>(a=n(),c=i(),()=>{a(),c()}):i},null),...re});u.use=Y;u.store=H;u.directive=F;u.modifier=D;u.dispose=e=>e[y]?.();var ar=u.start=(e=document.body,t)=>{let r=H(t);return u(e,r),new MutationObserver(n=>{for(let s of n){for(let i of s.addedNodes)i.nodeType===1&&i[p]===void 0&&e.contains(i)&&e[B](i);for(let i of s.removedNodes)i.nodeType===1&&i[y]?.()}}).observe(e,{childList:!0,subtree:!0}),r};u.version="12.4.0";var cr=u.dispose,lr=u;export{R as batch,J as computed,de as debounce,lr as default,cr as dispose,I as effect,x as signal,u as sprae,ar as start,H as store,$ as throttle,M as untracked,Y as use};
