window.requestIdleCallback=window.requestIdleCallback||((e,t,s=performance.now())=>setTimeout(e,0,{didTimeout:!1,timeRemaining:()=>Math.max(0,5-(performance.now()-s))}));var De=((e=document.createRange())=>(e.selectNodeContents(e.createContextualFragment("<template>").lastChild),e.createContextualFragment.bind(e)))(),j=new WeakMap,_=new WeakMap,h=new WeakMap,m=new WeakMap,k=new WeakMap,E=new WeakMap,g=new WeakMap,J=new WeakMap,re=Symbol("boundFunctions"),Y=!0,x=!0,Z=!1;var P=!1,Le=/\{\{((\s|.)*?)\}\}/;var Ce=/\n/g,Ie=/[\.\[\]]/,w=/^on/,Pe=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],fe=null,D=!1;function b(e){return e!=null&&typeof e=="object"}function N(e){return typeof e=="function"}function y(e){return e.splitText!==void 0}function W(e){return e instanceof Node}function A(e){return e.nodeName!=="svg"&&"getElementById"in e}function F(e){return b(e)&&"event"in e&&"options"in e}function O(e){return Reflect.get(e,"isProxy")}function ae(e){return b(e)&&typeof e.then=="function"}function we(){return Math.random().toString(32).slice(2)}function T(e,t,s){return Pe.includes(t)&&!s?(e.removeAttribute(t),!1):(e.setAttribute(t,s),!0)}function z(e,t,s){e.addEventListener(t,N(s)?s:s.event,N(s)?{}:s.options)}function M(e,t,...s){if(N(e))return e(t);let o=s.map(n=>b(n)&&!W(n)?Object.values(n):n).flat(),c=document.createElement(e);for(let n in t)n in c?c[n]=t[n]:T(c,n,t[n]);return c.append(...o),We(V,c,c),c}function V(e,t){let s=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),o;for(;o=s.nextNode();){o.getAttributeNames().forEach(n=>{if(t&&n.startsWith("on")){let l=n.replace(w,""),i=t[o.getAttribute(n)];if(!i){K(o,n);return}o.removeAttribute(n),F(i)?(o.addEventListener(l,i.event,i.options),_.has(o)?_.get(o).push(i.event):_.set(o,[i.event])):(o.addEventListener(l,i),_.has(o)?_.get(o).push(i):_.set(o,[i]))}else K(o,n)});let c=o.firstChild;for(;c;)y(c)&&K(c),c=c.nextSibling}}function K(e,t){let s,o;for(y(e)?s=e.nodeValue:(s=e.getAttribute(t),s===""&&(s=t,s.startsWith("{{")&&e.removeAttribute(s)));o=s.match(Le);){let[c,n]=o,l=n.trim().replace(Ce,"").split(Ie).filter(Boolean),[i,u]=$(l),r=l[l.length-1],a=o.index,d=a+String(i).length;if(W(i)){e.nodeValue=s.replace(c,""),e.after(i),v(a,d,i,r,u,t);return}if(y(e)){let f=b(i)?JSON.stringify(i):i??"";s=s.replace(c,f),s!=null&&(e.nodeValue=s)}else if(t==="bind"){s=s.replace(c,""),e.removeAttribute(t);let f=b(i)&&O(i)?i:u;m.has(f)?m.get(f).push(e):m.set(f,[e]);continue}else if(t==="two-way"){let f=p=>{e.addEventListener(p,({target:Q})=>{Reflect.set(u,r,Q.value)})};e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&e.type==="text"?(e.value=i,f("input")):e instanceof HTMLSelectElement?(e.value=i,f("change")):e instanceof HTMLInputElement&&e.type==="radio"?(e.checked=e.value===i,f("change")):e instanceof HTMLInputElement&&e.type==="checkbox"&&(e.checked=i.includes(e.name),e.addEventListener("change",({target:p})=>{p.checked?i.includes(e.name)||i.push(e.name):i.splice(i.indexOf(e.name),1)})),s=s.replace(c,""),e.setAttribute("two-way","")}else if(N(i)||F(i))s=s.replace(c,""),e.removeAttribute(t),z(e,t.replace(w,""),i);else if(b(i)){Object.entries(i).forEach(([f,p])=>{s=s.replace(c,""),N(p)||F(p)?z(e,f.replace(w,""),p):(r=f,T(e,f,p)?d=a+String(p).length:d=a),v(a,d,e,r,i,f)});continue}else s=s.replace(c,i),T(e,t,s===String(i)?i:s)||(s=s.replace(i,""));v(a,d,e,r,u,t)}}function v(e,t,s,o,c,n){let l=[e,t,n],i=[l];if(j.has(s)?j.get(s).push(l):j.set(s,i),h.has(c)){let u=h.get(c),r=u.get(o);r?r.has(s)?r.get(s).push(l):(r.set(i,s),r.set(s,i)):u.set(o,new Map([[i,s],[s,i]]))}else h.set(c,new Map([[o,new Map([[i,s],[s,i]])]]))}function $(e){let t,s;return t=s=L,e.forEach(o=>{s=t,t=Reflect.get(s,o)}),[t,s]}function ee(e,t,s){let o=[],c=[];if(y(e))return E.has(e)&&o.push(E.get(e)),g.has(e)&&o.push(g.get(e)),E.has(t)&&c.push(E.get(t)),g.has(t)&&c.push(g.get(t)),!(o.length!==c.length||String(o)!==String(c));if(_.has(e)&&o.push(..._.get(e)),_.has(t)&&c.push(..._.get(t)),E.has(e)&&o.push(E.get(e)),g.has(e)&&o.push(g.get(e)),E.has(t)&&c.push(E.get(t)),g.has(t)&&c.push(g.get(t)),o.length!==c.length||String(o)!==String(c))return!1;for(let n=0;n<e.childNodes.length;n++)if(s){if(y(e.childNodes[n])&&!ee(e.childNodes[n],t.childNodes[n],s))return!1}else if(!ee(e.childNodes[n],t.childNodes[n]))return!1;return!0}function ue(e,t,s){return e.isEqualNode(t)&&ee(e,t,s)}function te(e,t="",s=Y){if(s)return q(te,e,t,!1),de(e);Reflect.get(e,"reactive")&&(e=C(e));let o;if(A(e)&&(o=Array.from(e.childNodes),J.set(e,o)),!t)document.body.append(e);else{if(typeof t=="string"){let c=document.querySelector(t);if(c)t=c;else return()=>{}}x?y(e)?(B(e,t),S(t,g)):ue(e,t)||Fe(e,t):(B(e,t),S(t,g))}return S(e,E),o?.forEach(c=>{S(c,E)}),de(A(e)?o:e)}function ne(e,t){if(t.has(e)){let s=t.get(e);P?q(s):Y?window.requestIdleCallback(s):s(),t.delete(e)}}function S(e,t){if(t===E&&!ge||t===g&&!pe)return;ne(e,t);let s=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),o;for(;o=s.nextNode();){ne(o,t);let c=o.firstChild;for(;c;)y(c)&&ne(c,t),c=c.nextSibling}}function $e(e,t){for(let[s,o]of e.entries())for(let c=0;c<o.length;c++){let n=o[c];(t.contains(n)||t.isSameNode(n))&&(o.splice(c,1),c--),o.length===0&&e.delete(s)}}function Fe(e,t){let s=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),o=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),c;Z&&(c=document.createElement("template"),t===document.documentElement?t.append(c):A(t)?J.get(t)[0].before(c):t.before(c),c.append(e));let n,l=new Map;for(;n=o.nextNode();)Z&&n===c||(l.has(n.localName)?l.get(n.localName).push(n):l.set(n.localName,[n]));let i;for(;i=s.nextNode();){let u=l.get(i.localName);if(u)for(let r=0;r<u.length;r++){let a=u[r];if(ue(i,a,!0)){i.replaceWith(a),S(i,g),$e(l,a);break}}}if(Z){let u=A(e)?Array.from(c.childNodes):[e];if(A(t)){let r=J.get(t);u.forEach(a=>r[0].before(a)),r.forEach(a=>a.remove())}else t.replaceWith(...u);c.remove(),S(t,g)}else B(e,t),S(t,g);l.clear()}function B(e,t){if(A(t)){let s=J.get(t);if(A(e)){let o=Array.from(e.childNodes);s.forEach((c,n)=>{n<o.length?te(o[n],c):c.remove()})}else s.forEach((o,c)=>{c===0?te(e,o):o.remove()})}else t.replaceWith(e)}function de(e){return Array.isArray(e)?()=>e.forEach(H):()=>H(e)}function H(e){e.isConnected&&(e.remove(),S(e,g))}function q(e,...t){navigator.scheduling?navigator.scheduling.isInputPending()?setTimeout(q,0,e,...t):e(...t):window.requestIdleCallback(()=>e(...t))}function G(e){let t;do t=we();while(Reflect.has(L,t));Reflect.set(L,t,e),Reflect.set(o,"reactive",!0);let s=he(o,[t]);return s;function o(c){let n=(this&&Reflect.get(this,"reactive")?this:s).__keys__,[l,i]=$(n),u=n[n.length-1];if(N(c)){let r=c(l);if(l===r)return;Reflect.set(i,u,r??l)}else Reflect.set(i,u,c)}}function he(e,t){return new Proxy(e,{get(s,o,c){return o==="reactive"?!0:o==="__keys__"?t:o===Symbol.toPrimitive?()=>`{{${t.join(".")}}}`:he(s,[...t,o])}})}function me(e){let t=e.__keys__;return[t[t.length-1],t.length===1]}function se(e){let[t,s]=me(e);if(s)Reflect.set(L,t,null);else{let[o,c]=$(e.__keys__);Reflect.set(c,t,null)}}function Ee(e,t){let[s,o]=me(e);if(o)L.observe(s,t);else{let[c,n]=$(e.__keys__);n.observe(s,t)}}function be(e,t,s,o=e){let c=l=>(!Reflect.get(e,"reactive")&&N(e)?e(l):ae(l)?!1:l)?N(t)?t():t:N(s)?s():s,n=G(c(C(o)));return Ee(o,l=>{l===null?se(n):n(c(l))}),n}var Ne=!1,Re=new Set,I=new WeakMap,Ve=new WeakMap;function C(e){let[t]=$(Reflect.get(e,"__keys__"));return t}var ge=!1;function We(e,t,...s){ge=!0,E.set(t,s.length?e.bind(e,...s):e)}var pe=!1;function Se(e,t,...s){pe=!0,g.set(t,s.length?e.bind(e,...s):e)}function ie(e={}){let t=Symbol("handlers"),s=new WeakMap,o=new Proxy(e,{set(c,n,l,i){Ne&&(Re.add(i),I.has(i)?I.get(i).add(n):I.set(i,new Set([n])));let u=!0,r=Reflect.get(c,n,i);if(r===l)return u;if(l===null){if(h.has(i)){let f=h.get(i);f.delete(String(n)),f.size===0&&h.delete(i)}let d=Reflect.get(c,t,i);if(d.has(n)){let f=d.get(n);f.forEach(p=>p(null,r)),f.clear(),i.unobserve(n)}return b(r)&&O(r)?(h.delete(r),m.has(r)&&(m.get(r).forEach(H),m.delete(r))):m.has(i)&&(m.get(i).forEach(H),m.delete(i)),!D&&Array.isArray(i)?(i.splice(n,1),u):Reflect.deleteProperty(i,n)}else if(Array.isArray(r)&&Array.isArray(l)&&l.length===0){Reflect.get(c,t,i).get(n)?.forEach(f=>f(l,r)),D=!0;let d=r.length;for(let f=0;f<d;f++){let p=i[n][f];b(p)&&O(p)&&(i[n][f]=null)}D=!1}if(ae(l))return l.then(f=>{i[n]=f}).catch(f=>{console.error(f),i[n]=null}),u=Reflect.set(c,n,l,i),u;if(W(l))u=Reflect.set(c,n,l,i);else if(b(l)&&!O(l))u=Reflect.set(c,n,ie(l),i),Object.entries(l).forEach(([d,f])=>{b(f)&&!O(f)&&Reflect.set(l,d,ie(f))});else if(!x&&Array.isArray(i)&&i.includes(r)&&i.includes(l)&&m.has(l)){let[d]=m.get(l);if(fe!==d){let[f]=m.get(r);fe=f;let p=d.previousSibling,Q=f.previousSibling,Oe=i.findIndex(Te=>Te===l);i.splice(Number(n),1,l),i.splice(Oe,1,r),p.after(f),Q.after(d)}return!0}else u=Reflect.set(c,n,l,i);let a=Reflect.get(c,n,i);return h.has(r)?_e(r,n,a,r):h.has(i)&&_e(i,n,a,r),b(l)&&O(l)&&h.has(r)&&(x&&k.set(r,h.get(r)),k.has(l)?(h.set(r,k.get(l)),k.delete(l)):h.set(r,h.get(l))),u&&Reflect.get(c,t,i).get(n)?.forEach(d=>d(a,r)),!x&&qe(r),u},get(c,n,l){Ne&&(Re.add(l),I.has(l)?I.get(l).add(n):I.set(l,new Set([n])));let i=Reflect.get(c,n,l);return N(i)?(s.has(i)||s.set(i,i.bind(c)),s.get(i)):i}});return Reflect.defineProperty(o,"isProxy",{value:!0}),Reflect.defineProperty(o,"asyncUpdate",{value:Y,writable:!0}),Reflect.defineProperty(o,t,{value:new Map}),Reflect.defineProperty(o,"observe",{value:(c,n)=>{let l=Reflect.get(o,t);l.has(c)?l.get(c).add(n):l.set(c,new Set([n]))},configurable:!0}),Reflect.defineProperty(o,"getObservers",{value:()=>Reflect.get(o,t),configurable:!0}),Reflect.defineProperty(o,"unobserve",{value:(c,n)=>{let l=Reflect.get(o,t);if(c){if(l.has(c))if(n==null)l.delete(c);else{let i=l.get(c);i?.has(n)&&i.delete(n)}}else l.clear()},configurable:!0}),Reflect.has(o,re)||queueMicrotask(()=>{o===L&&Reflect.defineProperty(o,re,{value:s})}),o}function qe(e){b(e)&&O(e)&&(h.delete(e),m.has(e)&&(m.get(e).forEach(H),m.delete(e)))}function _e(e,t,s,o){let c=h.get(e),n=c.get(String(t));n&&(Reflect.get(e,"asyncUpdate")?q(X,n,s,o):X(n,s,o)),b(s)&&Object.entries(s).forEach(([l,i])=>{let u=b(o)&&Reflect.get(o,l)||o,r=c.get(l);r&&(Reflect.get(e,"asyncUpdate")?q(X,r,i,u):X(r,i,u))})}function X(e,t,s){e.forEach(o=>{if(W(o)){if(!o.isConnected){let c=e.get(o);e.delete(o),e.delete(c)}return}o.forEach(c=>{let n=e.get(o),[l,i,u]=c,r=!1;if(W(t))B(t,n),S(n,g);else if(y(n)){r=!0;let a=n.nodeValue;n.nodeValue=a.substring(0,l)+String(t)+a.substring(i)}else if(u==="two-way")n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement||n instanceof HTMLInputElement&&n.type==="text"?n.value=String(t):n instanceof HTMLInputElement&&(n.type==="checkbox"||n.type==="radio")&&(n.checked=Array.isArray(t)?t.includes(n.name):String(t)===n.value);else if(N(t)||F(t)){let a=u.replace(w,"");n.removeEventListener(a,N(t)?t:t.event),z(n,a,t)}else if(b(t))Object.entries(t).forEach(([a,d])=>{if(N(d)||F(d)){let f=a.replace(w,"");n.removeEventListener(f,N(d)?d:d.event),z(n,f,d)}else T(n,a,d)});else{r=!0;let a=n.getAttribute(u);a?(a=a.substring(0,l)+String(t)+a.substring(i),T(n,u,a===String(t)?t:a)):T(n,u,t)}if(r){c[1]=l+String(t).length;let a;j.get(n)?.forEach(d=>{if(d===c){a=!0;return}if(a&&(y(n)||u===d[2])){let f=String(s).length-String(t).length;d[0]-=f,d[1]-=f}})}})})}function ye(e,t,s){P=!0;let o=ce(e),c=C(t).map(s);o.append(...c),c.forEach(n=>S(n,E)),P=!1,Ee(t,(n,l)=>{if(P=!0,!n?.length||!x&&n?.length===l?.length)o.textContent="";else if(x)for(let i=0;i<l?.length&&n?.length;i++)l[i].id=n[i].id,l[i].label=n[i].label,n[i]=l[i];if(l?.length&&n?.length>l?.length){let i=l.length,r=n.slice(i).map((a,d)=>s(a,d+i));o.append(...r),r.forEach(a=>S(a,E))}else if(l?.length===0||!x&&n?.length){let i=n.map(s);o.append(...i),i.forEach(u=>S(u,E))}P=!1})}var L=ie(),ce=document.querySelector.bind(document),Ke=document.querySelectorAll.bind(document);var Me=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],xe=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],Ae=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],He=Me.length,Ue=xe.length,je=Ae.length,ke=1;function le(e){let t=new Array(e);for(let s=0;s<e;s++)t[s]={id:ke++,label:Me[oe(He)]+" "+xe[oe(Ue)]+" "+Ae[oe(je)]};return t}function oe(e){return Math.random()*e|0}V(ce("#main"),{run:ze,runLots:Be,add:Je,update:Xe,clear:Ge,swapRows:Qe});var R=G([]),U=G(-1);ye("tbody",R,(e,t)=>{let s=be(c=>c===e.id,"danger","",U),o=M("tr",{class:s,bind:R[t]},M("td",{class:"col-md-1"},R[t].id),M("td",{class:"col-md-4"},M("a",{onclick:()=>U(e.id)},R[t].label)),M("td",{class:"col-md-1"},M("a",{onclick:()=>Ye(e.id)},M("span",{class:"glyphicon glyphicon-remove","aria-hidden":"true"}))),M("td",{class:"col-md-6"}));return Se(se,o,s),o});function Je(){R(e=>[...e,...le(1e3)])}function ze(){U(-1),R(le(1e3))}function Be(){U(-1),R(le(1e4))}function Ge(){R([]),U(null)}function Xe(){let e=C(R),t=0;for(;t<e.length;)R[t].setter(s=>{s.label+=" !!!"}),t+=10}function Qe(){R(e=>{e.length>998&&([e[1],e[998]]=[e[998],e[1]])})}function Ye(e){let t=C(R).findIndex(s=>s?.id===e);R(s=>{s[t]=null})}
